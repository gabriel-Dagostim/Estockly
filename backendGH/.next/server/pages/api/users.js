"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/users";
exports.ids = ["pages/api/users"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("bcryptjs");

/***/ }),

/***/ "cookie":
/*!*************************!*\
  !*** external "cookie" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("cookie");

/***/ }),

/***/ "cors":
/*!***********************!*\
  !*** external "cors" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("cors");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusers&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cusers.js&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusers&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cusers.js&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_users_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\users.js */ \"(api)/./pages/api/users.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_users_js__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_users_js__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/users\",\n        pathname: \"/api/users\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_users_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnVzZXJzJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlNUNhcGklNUN1c2Vycy5qcyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDRTtBQUMxRDtBQUNtRDtBQUNuRDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsZ0RBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLGdEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLHlHQUFtQjtBQUNsRDtBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXNcXFxcYXBpXFxcXHVzZXJzLmpzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsICdkZWZhdWx0Jyk7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCAnY29uZmlnJyk7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS91c2Vyc1wiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3VzZXJzXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogJycsXG4gICAgICAgIGZpbGVuYW1lOiAnJ1xuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusers&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cusers.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/users.js":
/*!****************************!*\
  !*** ./pages/api/users.js ***!
  \****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var cors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cors */ \"cors\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var cookie__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cookie */ \"cookie\");\n\n\n\n // Para decodificar o token\n // Para gerenciar cookies\nconst prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_1__.PrismaClient();\n// Configuração de CORS\nconst cors = cors__WEBPACK_IMPORTED_MODULE_0__({\n    origin: 'http://localhost:3000',\n    methods: [\n        'GET',\n        'POST',\n        'PUT',\n        'DELETE'\n    ],\n    credentials: true\n});\n// Função para rodar middlewares\nfunction runMiddleware(req, res, fn) {\n    return new Promise((resolve, reject)=>{\n        fn(req, res, (result)=>{\n            if (result instanceof Error) {\n                return reject(result);\n            }\n            return resolve(result);\n        });\n    });\n}\nasync function handler(req, res) {\n    await runMiddleware(req, res, cors);\n    if (req.method === 'POST') {\n        const { name, email, password } = req.body;\n        try {\n            const hashedPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_2__.hash(password, 10);\n            const user = await prisma.user.create({\n                data: {\n                    name,\n                    email,\n                    password: hashedPassword\n                }\n            });\n            const token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_3__.sign({\n                userId: user.id\n            }, 'secreta-chave', {\n                expiresIn: '1h'\n            });\n            // Defina o cookie com o token JWT\n            res.setHeader('Set-Cookie', cookie__WEBPACK_IMPORTED_MODULE_4__.serialize('token', token, {\n                httpOnly: true,\n                secure: \"development\" === 'production',\n                sameSite: 'strict',\n                path: '/'\n            }));\n            res.status(201).json(user);\n        } catch (error) {\n            console.error('Erro ao criar usuário:', error);\n            res.status(400).json({\n                error: 'Erro ao criar usuário'\n            });\n        }\n    } else if (req.method === 'GET') {\n        try {\n            const cookies = req.headers.cookie;\n            if (!cookies) {\n                return res.status(401).json({\n                    error: 'Não autenticado'\n                });\n            }\n            const { token } = cookie__WEBPACK_IMPORTED_MODULE_4__.parse(cookies);\n            if (!token) {\n                return res.status(401).json({\n                    error: 'Token não fornecido'\n                });\n            }\n            const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_3__.verify(token, 'secreta-chave');\n            const user = await prisma.user.findUnique({\n                where: {\n                    id: decoded.userId\n                },\n                select: {\n                    id: true,\n                    name: true,\n                    email: true\n                }\n            });\n            if (!user) {\n                return res.status(404).json({\n                    error: 'Usuário não encontrado'\n                });\n            }\n            res.status(200).json(user);\n        } catch (error) {\n            console.error('Erro ao buscar usuário:', error);\n            res.status(500).json({\n                error: 'Erro ao buscar usuário'\n            });\n        }\n    } else {\n        res.setHeader('Allow', [\n            'POST',\n            'GET'\n        ]);\n        res.status(405).end(`Método ${req.method} não permitido`);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUMsS0FBS0MsSUFBSSxDQUFDaEI7UUFDdkIsRUFBRSxPQUFPaUIsT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMsMkJBQTJCQTtZQUN6Q2hDLElBQUk4QixNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUFFQyxPQUFPO1lBQXlCO1FBQ3pEO0lBQ0YsT0FBTztRQUNMaEMsSUFBSXVCLFNBQVMsQ0FBQyxTQUFTO1lBQUM7WUFBUTtTQUFNO1FBQ3RDdkIsSUFBSThCLE1BQU0sQ0FBQyxLQUFLWSxHQUFHLENBQUMsQ0FBQyxPQUFPLEVBQUUzQyxJQUFJUyxNQUFNLENBQUMsY0FBYyxDQUFDO0lBQzFEO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcQ2xvdmlzXFxPbmVEcml2ZVxcRG9jdW1lbnRvc1xcR2l0SHViXFxqZWZlcnNvbkNhYnVsb3NvXFxiYWNrZW5kR0hcXHBhZ2VzXFxhcGlcXHVzZXJzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDb3JzIGZyb20gJ2NvcnMnO1xyXG5pbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCc7XHJcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xyXG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7IC8vIFBhcmEgZGVjb2RpZmljYXIgbyB0b2tlblxyXG5pbXBvcnQgY29va2llIGZyb20gJ2Nvb2tpZSc7IC8vIFBhcmEgZ2VyZW5jaWFyIGNvb2tpZXNcclxuXHJcbmNvbnN0IHByaXNtYSA9IG5ldyBQcmlzbWFDbGllbnQoKTtcclxuXHJcbi8vIENvbmZpZ3VyYcOnw6NvIGRlIENPUlNcclxuY29uc3QgY29ycyA9IENvcnMoe1xyXG4gIG9yaWdpbjogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcsXHJcbiAgbWV0aG9kczogWydHRVQnLCAnUE9TVCcsICdQVVQnLCAnREVMRVRFJ10sXHJcbiAgY3JlZGVudGlhbHM6IHRydWUsIC8vIFBlcm1pdGUgZW52aW8gZGUgY29va2llc1xyXG59KTtcclxuXHJcbi8vIEZ1bsOnw6NvIHBhcmEgcm9kYXIgbWlkZGxld2FyZXNcclxuZnVuY3Rpb24gcnVuTWlkZGxld2FyZShyZXEsIHJlcywgZm4pIHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgZm4ocmVxLCByZXMsIChyZXN1bHQpID0+IHtcclxuICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlamVjdChyZXN1bHQpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiByZXNvbHZlKHJlc3VsdCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xyXG4gIGF3YWl0IHJ1bk1pZGRsZXdhcmUocmVxLCByZXMsIGNvcnMpO1xyXG5cclxuICBpZiAocmVxLm1ldGhvZCA9PT0gJ1BPU1QnKSB7XHJcbiAgICBjb25zdCB7IG5hbWUsIGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgMTApO1xyXG5cclxuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmNyZWF0ZSh7XHJcbiAgICAgICAgZGF0YTogeyBuYW1lLCBlbWFpbCwgcGFzc3dvcmQ6IGhhc2hlZFBhc3N3b3JkIH0sXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbih7IHVzZXJJZDogdXNlci5pZCB9LCAnc2VjcmV0YS1jaGF2ZScsIHtcclxuICAgICAgICBleHBpcmVzSW46ICcxaCcsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gRGVmaW5hIG8gY29va2llIGNvbSBvIHRva2VuIEpXVFxyXG4gICAgICByZXMuc2V0SGVhZGVyKFxyXG4gICAgICAgICdTZXQtQ29va2llJyxcclxuICAgICAgICBjb29raWUuc2VyaWFsaXplKCd0b2tlbicsIHRva2VuLCB7XHJcbiAgICAgICAgICBodHRwT25seTogdHJ1ZSxcclxuICAgICAgICAgIHNlY3VyZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyxcclxuICAgICAgICAgIHNhbWVTaXRlOiAnc3RyaWN0JyxcclxuICAgICAgICAgIHBhdGg6ICcvJyxcclxuICAgICAgICB9KVxyXG4gICAgICApO1xyXG5cclxuICAgICAgcmVzLnN0YXR1cygyMDEpLmpzb24odXNlcik7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFvIGNyaWFyIHVzdcOhcmlvOicsIGVycm9yKTtcclxuICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ0Vycm8gYW8gY3JpYXIgdXN1w6FyaW8nIH0pO1xyXG4gICAgfVxyXG4gIH0gZWxzZSBpZiAocmVxLm1ldGhvZCA9PT0gJ0dFVCcpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGNvb2tpZXMgPSByZXEuaGVhZGVycy5jb29raWU7XHJcblxyXG4gICAgICBpZiAoIWNvb2tpZXMpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvcjogJ07Do28gYXV0ZW50aWNhZG8nIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCB7IHRva2VuIH0gPSBjb29raWUucGFyc2UoY29va2llcyk7XHJcblxyXG4gICAgICBpZiAoIXRva2VuKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6ICdUb2tlbiBuw6NvIGZvcm5lY2lkbycgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGRlY29kZWQgPSBqd3QudmVyaWZ5KHRva2VuLCAnc2VjcmV0YS1jaGF2ZScpO1xyXG5cclxuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRVbmlxdWUoe1xyXG4gICAgICAgIHdoZXJlOiB7IGlkOiBkZWNvZGVkLnVzZXJJZCB9LFxyXG4gICAgICAgIHNlbGVjdDogeyBpZDogdHJ1ZSwgbmFtZTogdHJ1ZSwgZW1haWw6IHRydWUgfSwgLy8gU2VsZWNpb25hIG9zIGNhbXBvcyByZWxldmFudGVzXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdVc3XDoXJpbyBuw6NvIGVuY29udHJhZG8nIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih1c2VyKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm8gYW8gYnVzY2FyIHVzdcOhcmlvOicsIGVycm9yKTtcclxuICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0Vycm8gYW8gYnVzY2FyIHVzdcOhcmlvJyB9KTtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgcmVzLnNldEhlYWRlcignQWxsb3cnLCBbJ1BPU1QnLCAnR0VUJ10pO1xyXG4gICAgcmVzLnN0YXR1cyg0MDUpLmVuZChgTcOpdG9kbyAke3JlcS5tZXRob2R9IG7Do28gcGVybWl0aWRvYCk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJDb3JzIiwiUHJpc21hQ2xpZW50IiwiYmNyeXB0Iiwiand0IiwiY29va2llIiwicHJpc21hIiwiY29ycyIsIm9yaWdpbiIsIm1ldGhvZHMiLCJjcmVkZW50aWFscyIsInJ1bk1pZGRsZXdhcmUiLCJyZXEiLCJyZXMiLCJmbiIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVzdWx0IiwiRXJyb3IiLCJoYW5kbGVyIiwibWV0aG9kIiwibmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJib2R5IiwiaGFzaGVkUGFzc3dvcmQiLCJoYXNoIiwidXNlciIsImNyZWF0ZSIsImRhdGEiLCJ0b2tlbiIsInNpZ24iLCJ1c2VySWQiLCJpZCIsImV4cGlyZXNJbiIsInNldEhlYWRlciIsInNlcmlhbGl6ZSIsImh0dHBPbmx5Iiwic2VjdXJlIiwicHJvY2VzcyIsInNhbWVTaXRlIiwicGF0aCIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsImNvbnNvbGUiLCJjb29raWVzIiwiaGVhZGVycyIsInBhcnNlIiwiZGVjb2RlZCIsInZlcmlmeSIsImZpbmRVbmlxdWUiLCJ3aGVyZSIsInNlbGVjdCIsImVuZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/users.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusers&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cusers.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();